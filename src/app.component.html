<div class="min-h-screen bg-gray-100 flex flex-col">
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-4">
          <!-- Logo -->
          <div class="flex-shrink-0 flex items-center space-x-2">
            <svg class="h-8 w-8 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" />
            </svg>
            <span class="font-bold text-xl text-gray-800">Staff Hub</span>
          </div>
          <!-- Desktop Navigation -->
          <nav class="hidden md:flex md:space-x-4">
            @for (tab of tabs; track tab) {
              <button
                (click)="setActiveTab(tab)"
                [class.text-indigo-600]="activeTab() === tab"
                [class.border-indigo-500]="activeTab() === tab"
                [class.text-gray-500]="activeTab() !== tab"
                [class.hover:text-gray-700]="activeTab() !== tab"
                [class.hover:border-gray-300]="activeTab() !== tab"
                class="inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">
                {{ tab }}
              </button>
            }
          </nav>
        </div>

        <div class="flex items-center space-x-4">
          <!-- User Info & Switcher -->
          @if (currentUser(); as user) {
            <div class="flex items-center space-x-3">
              <img class="h-8 w-8 rounded-full" [src]="user.avatarUrl" [alt]="user.fullName">
              <div class="hidden sm:block">
                <div class="text-sm font-medium text-gray-800">{{ user.fullName }}</div>
                <div class="text-xs text-gray-500">{{ user.role }}</div>
              </div>
              <button (click)="switchUser()" title="Switch User (Demo)" class="p-1 rounded-full text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>
              </button>
            </div>
          }
          <!-- Mobile Menu Button -->
          <div class="md:hidden">
            <button (click)="toggleMobileMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
              <span class="sr-only">Open main menu</span>
              @if (!mobileMenuOpen()) {
                <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              } @else {
                <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              }
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Mobile Navigation -->
    @if(mobileMenuOpen()){
      <div class="md:hidden">
        <div class="pt-2 pb-3 space-y-1">
          @for (tab of tabs; track tab) {
            <button (click)="setActiveTab(tab)"
                    [class.bg-indigo-50]="activeTab() === tab"
                    [class.border-indigo-500]="activeTab() === tab"
                    [class.text-indigo-700]="activeTab() === tab"
                    [class.text-gray-600]="activeTab() !== tab"
                    class="block w-full text-left pl-3 pr-4 py-2 border-l-4 text-base font-medium">
              {{tab}}
            </button>
          }
        </div>
      </div>
    }
  </header>

  <!-- Main Content -->
  <main class="flex-grow">
    <div class="max-w-7xl mx-auto">
      @switch (activeTab()) {
        @case ('Dashboard') {
          <app-dashboard />
        }
        @case ('Rota') {
          <div class="p-8"><h2 class="text-2xl font-bold">Rota - Coming Soon</h2></div>
        }
        @case ('Deliveries') {
          <div class="p-8"><h2 class="text-2xl font-bold">Deliveries - Coming Soon</h2></div>
        }
        @case ('HR') {
          <div class="p-8"><h2 class="text-2xl font-bold">HR - Coming Soon</h2></div>
        }
        @case ('Announcements') {
          <app-announcements />
        }
        @case ('Reports') {
          <div class="p-8"><h2 class="text-2xl font-bold">Reports - Coming Soon</h2></div>
        }
      }
    </div>
  </main>
</div>